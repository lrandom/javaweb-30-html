<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login page</title>
    <link rel="stylesheet" href="css/demo.css">
    <link rel="stylesheet" href="css/font/fontawesome-free-6.2.1-web/fontawesome-free-6.2.1-web/css/all.css">
</head>
<body>
<section>
    <div class="img-bg">
        <img src="https://images.pexels.com/photos/3184306/pexels-photo-3184306.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"
             alt="Hình ảnh minh họa">
    </div>
    <div class="noi-dung">
        <div class="from">
            <form onsubmit="return validate()">
                <h2> login page </h2>
                <div>
                    <p>User Name :</p>
                    <input id="username" type="text" name="username" placeholder="Tên đăng nhập">
                    <div class="error-line"></div>
                </div>

                <div class="main-pass">
                    <p> Password : </p>
                    <input id="password" type="password" name="password" placeholder="Mật khẩu">
                    <button onclick="showPass(this)" class="fa-regular fa-eye toggle-password btn-toggle-password">
                        Toggle Password
                    </button>
                    <!--<i onclick="showpass()" id="hide" toggle="#password" class="fa-regular fa-eye-slash toggle-password"></i>-->
                    <div class="error-line"></div>
                </div>

                <div>
                    <p>Confirm Password :</p>

                    <input id="password1" type="password" name="password1" placeholder="Nhập lại mật khẩu">
                    <button onclick="showPass(this)" class="fa-regular fa-eye toggle-password btn-toggle-password">
                        Toggle Password
                    </button>
                    <div class="error-line"></div>
                </div>

                <div>
                    <p>Confirm Password :</p>

                    <input id="password1" type="password" name="password1" placeholder="Nhập lại mật khẩu">
                    <button onclick="showPass(this)" class="fa-regular fa-eye toggle-password btn-toggle-password">
                        Toggle Password
                    </button>
                    <div class="error-line"></div>
                </div>

                <div>
                    <p>Email :</p>
                    <input id="email" type="email" name="email" placeholder="Email">
                    <div class="error-line"></div>
                </div>

                <div>
                    <p>Fullname :</p>
                    <input id="fullname" type="fullname" name="fullname" placeholder="Tên đầy đủ">
                    <div class="error-line"></div>
                </div>


                <div>
                    <input id="submit" type="submit" value="Login">
                </div>
                <div class="text">
                    <span>Đăng nhập bằng tài khoản <a href="#">Đăng nhập</a></span>
                </div>

            </form>
            <h3>Đăng nhập bằng mạng xã hội</h3>
            <ul class="icon-dang-nhap">
                <li><i class="fa-brands fa-facebook"></i></li>
                <li><i class="fa-brands fa-google"></i></li>
                <li><i class="fa-brands fa-twitter"></i></li>
            </ul>
        </div>
    </div>
</section>
<script>
    function validate() {
        const errorLineNode = document.querySelectorAll('.error-line');
        for (let i = 0; i < errorLineNode.length; i++) {
            errorLineNode[i].innerHTML = '';
        }
        const userNameNode = document.querySelector('#username');
        const userNameText = userNameNode.value;
        if (!userNameText) {
            userNameNode.nextElementSibling.innerText = 'Vui long dien vao truowng nay';
            return false;
        }
        if (userNameText.length < 5 || userNameText.length > 10 || !/^[a-zA-Z0-9]+$/.test(userNameText)) {
            userNameNode.nextElementSibling.innerText = 'Vui long dien it nhat 5 ki tu khong qua 10 ki tu va khong dung ki tu dac biet';
            return false;
        }
        const passwordNode = document.querySelector('#password');
        const passwordText = passwordNode.value;
        if (!passwordText) {
            passwordNode.nextElementSibling.innerText = 'Vui long dien vao truong nay';
            return false;
        }
        if (passwordText.length < 5 || passwordText.length > 10) {
            passwordNode.nextElementSibling.innerText = 'Vui long dien it nhat 5 ki tu va khong qua 10 ki tu';
            return false;
        }
        const password1Node = document.querySelector('#password1');
        const password1Text = password1Node.value;
        if (passwordText !== password1Text) {
            password1Node.nextElementSibling.innerText = 'Mat khau khong trung khop';
            return false;
        }
        const emailNode = document.querySelector('#email');
        const emailText = emailNode.value;
        if (!emailText) {
            emailNode.nextElementSibling.innerText = 'Vui long dien vao truong nay';
            return false;
        }
        if (emailText = /^[^ ]+@[^ ]+\.[a-z]{2,3}$/) {
            emailNode.nextElementSibling.innerText = 'Vui long dien dung email vao day';
            return false;
        }
        const fullNameNode = document.querySelector('#fullname');
        const fullNameText = fullNameNode.value;
        if (!fullNameText) {
            fullNameNode.nextElementSibling.innerText = 'Vui long nhap vao truong nay';
            return false;
        }
        if (fullNameText.length < 5 || fullNameText.length > 10) {
            fullNameNode.nextElementSibling.innerText = 'Vui long nhap it nhat 5 ki tu khong qua 10 kí tu';
            return false;
        }

        return true;
    }

    function showPass(currentNode) {
        const inputPasswordNode = currentNode.previousElementSibling;
        (inputPasswordNode.getAttribute('type') === 'password') ?
            inputPasswordNode.setAttribute('type', 'text') :
            inputPasswordNode.setAttribute('type', 'password');
    }

    /*    const btnTogglePasswordNodes = document.querySelectorAll('.btn-toggle-password');
        for (let i = 0; i < btnTogglePasswordNodes.length; i++) {
            btnTogglePasswordNodes[i].addEventListener('click', (event) => {
                //bản thân nút đang đươc tương tác
                const inputPasswordNode = event.target.previousElementSibling;

                console.log(inputPasswordNode);
                (inputPasswordNode.getAttribute('type') === 'password') ?
                    inputPasswordNode.setAttribute('type', 'text') :
                    inputPasswordNode.setAttribute('type', 'password');
            });
        }*/
</script>

</body>
</html>
